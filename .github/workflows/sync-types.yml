name: Sync thrift changes to types repository

on:
  push:
    branches:
      - github-sync-action
    # paths:
    #   - "thrift/**"
    #   - "thrift_build.ps1"
    #   - "thrift_build.sh"
jobs:
  sync:
    runs-on: self-hosted
    steps:
      - name: Checkout source repository
        uses: actions/checkout@v3
        with:
          ref: dev

      - name: Setup thrift
        run: |
          echo $GITHUB_SHA

      # - name: Add SHORT_SHA to env
      #   run: echo "SHORT_SHA=`echo ${GITHUB_SHA} | cut -c1-10`" >> $GITHUB_ENV

      # - name: Setup git config
      #   run: |
      #     git config --global user.name "LLM Inference GitHub Actions"
      #     git config --global user.email "actions@github.com"

      # - name: Sync to target repository
      #   uses: ad-m/github-push-action@v0.8.0
      #   with:
      #     github_token: ${{ secrets.GITHUB_TOKEN }}
      #     branch: dev
      #     force: true
      #     directory: "types"
      #     repository: "LLM-Types/LLM-Types"
      #     commit_message: "Sync thrift changes to types repository"